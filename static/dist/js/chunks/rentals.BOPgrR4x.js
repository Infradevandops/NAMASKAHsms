import{a as e}from"./index.Dos3PyFQ.js";function n(){const e=document.getElementById("rent-form"),n=document.getElementById("renew-btn");e&&e.addEventListener("submit",a),n&&n.addEventListener("click",r),t()}async function t(){try{const n=await e.get("/api/rentals"),t=document.getElementById("rentals-list");if(!t)return;t.innerHTML="",n.data.forEach(e=>{const n=document.createElement("div");n.className="rental-item",n.innerHTML=`\n        <p>Phone: ${e.phone_number}</p>\n        <p>Service: ${e.service_name}</p>\n        <p>Expires: ${new Date(e.expires_at).toLocaleString()}</p>\n        <p>Cost: $${e.cost}</p>\n        <button onclick="renewRental('${e.id}')">Renew</button>\n      `,t.appendChild(n)})}catch(n){}}async function a(n){var a,r;n.preventDefault();try{const n=await e.post("/api/rentals/create",{country:document.getElementById("country").value,service:document.getElementById("service").value,duration_hours:parseInt(document.getElementById("duration").value)});alert("Rental created! Phone: "+n.data.phone_number),t()}catch(l){alert("Rental failed: "+((null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.detail)||"Unknown error"))}}async function r(){var n,a;const r=document.getElementById("rental-id").value;try{await e.post(`/api/rentals/${r}/renew`),alert("Rental renewed!"),t()}catch(l){alert("Renewal failed: "+((null==(a=null==(n=l.response)?void 0:n.data)?void 0:a.detail)||"Unknown error"))}}async function l(n){var a,r;try{await e.post(`/api/rentals/${n}/renew`),alert("Rental renewed!"),t()}catch(l){alert("Renewal failed: "+((null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.detail)||"Unknown error"))}}export{r as handleRenew,a as handleRent,n as initRentals,t as loadRentals,l as renewRental};
//# sourceMappingURL=rentals.BOPgrR4x.js.map
