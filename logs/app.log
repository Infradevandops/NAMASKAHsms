2026-02-06T00:18:44.150253363Z INFO:     Waiting for application startup.
2026-02-06T00:18:44.150549109Z 2026-02-06 00:18:44,150 - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-06T00:18:44.15056444Z 2026-02-06 00:18:44,150 - INFO - Initializing database...
2026-02-06T00:18:44.474976024Z 2026-02-06 00:18:44,474 - INFO - Database tables created successfully
2026-02-06T00:18:44.475015206Z 2026-02-06 00:18:44,474 - INFO - Checking admin user...
2026-02-06T00:18:44.475068639Z 2026-02-06 00:18:44,474 - INFO - Running startup initialization...
2026-02-06T00:18:44.484834231Z 2026-02-06 00:18:44,484 - WARNING - (trapped) error reading bcrypt version
2026-02-06T00:18:44.484846581Z Traceback (most recent call last):
2026-02-06T00:18:44.484851651Z   File "/home/appuser/.local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
2026-02-06T00:18:44.484865002Z     version = _bcrypt.__about__.__version__
2026-02-06T00:18:44.484870082Z               ^^^^^^^^^^^^^^^^^
2026-02-06T00:18:44.484874563Z AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-06T00:18:46.155278583Z 2026-02-06 00:18:46,155 - ERROR - Failed to init admin user: (psycopg2.errors.NotNullViolation) null value in column "is_affiliate" of relation "users" violates not-null constraint
2026-02-06T00:18:46.155302764Z DETAIL:  Failing row contains (admin@namaskah.app, $2b$12$2Jz8ltW5pWYNelt5PjFuye5GVKGClJIbx2b0R0B1SWnifAbfpWg0W, 1000, 1, t, f, t, null, null, null, freemium, null, null, 0, 0, null, null, null, 0, null, email, null, null, null, null, 0, null, en, USD, null, null, null, null, t, null, null, null, null, null, null, null, null, null, null, 2026-02-06 00:18:44.478129, null).
2026-02-06T00:18:46.155309945Z 
2026-02-06T00:18:46.155327735Z [SQL: 
2026-02-06T00:18:46.155331846Z                     INSERT INTO users (
2026-02-06T00:18:46.155335636Z                         email, password_hash, is_admin, is_moderator, is_active, credits, 
2026-02-06T00:18:46.155339176Z                         free_verifications, email_verified, subscription_tier, 
2026-02-06T00:18:46.155341956Z                         bonus_sms_balance, monthly_quota_used, referral_earnings, 
2026-02-06T00:18:46.155345086Z                         provider, failed_login_attempts, language, currency, created_at
2026-02-06T00:18:46.155348367Z                     )
2026-02-06T00:18:46.155351277Z                     VALUES (
2026-02-06T00:18:46.155353847Z                         %(email)s, %(hash)s, true, false, true, 1000, 
2026-02-06T00:18:46.155356767Z                         1.0, true, 'freemium', 
2026-02-06T00:18:46.155359097Z                         0.0, 0.0, 0.0, 
2026-02-06T00:18:46.155362057Z                         'email', 0, 'en', 'USD', NOW()
2026-02-06T00:18:46.155364308Z                     )
2026-02-06T00:18:46.155366637Z                 ]
2026-02-06T00:18:46.155369538Z [parameters: {'email': 'admin@namaskah.app', 'hash': '$2b$12$2Jz8ltW5pWYNelt5PjFuye5GVKGClJIbx2b0R0B1SWnifAbfpWg0W'}]
2026-02-06T00:18:46.155371918Z (Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-06T00:18:46.155374188Z 2026-02-06 00:18:46,155 - INFO - Startup initialization completed
2026-02-06T00:18:46.155389019Z 2026-02-06 00:18:46,155 - INFO - Admin user verified
2026-02-06T00:18:46.155395199Z 2026-02-06 00:18:46,155 - INFO - âœ… Application startup completed successfully
2026-02-06T00:18:46.155721807Z INFO:     Application startup complete.
2026-02-06T00:18:46.237048708Z INFO:     Uvicorn running on http://0.0.0.0:10000 (Press CTRL+C to quit)
2026-02-06T00:18:47.185548067Z INFO:     127.0.0.1:42402 - "HEAD / HTTP/1.1" 405 Method Not Allowed
2026-02-06T00:18:52.870332712Z ==> Your service is live ðŸŽ‰
2026-02-06T00:18:53.014669731Z ==> 
2026-02-06T00:18:53.018308394Z ==> ///////////////////////////////////////////////////////////
2026-02-06T00:18:53.02211948Z ==> 
2026-02-06T00:18:53.024849714Z ==> Available at your primary URL https://namaskah.onrender.com
2026-02-06T00:18:53.027677281Z ==> 
2026-02-06T00:18:53.030198861Z ==> ///////////////////////////////////////////////////////////
2026-02-06T00:18:53.139825715Z INFO:     10.20.143.131:0 - "GET / HTTP/1.1" 200 OK
2026-02-06T00:20:18.803660693Z INFO:     10.22.125.131:0 - "GET / HTTP/1.1" 200 OK
2026-02-06T00:20:28.543867579Z INFO:     10.20.212.66:0 - "GET /auth/login HTTP/1.1" 301 Moved Permanently
2026-02-06T00:20:28.919721916Z INFO:     10.20.143.131:0 - "GET /login HTTP/1.1" 200 OK
2026-02-06T00:20:32.217082116Z 2026-02-06 00:20:32,216 - WARNING - Login attempt with non-existent email: admin@namaskah.app
2026-02-06T00:20:32.222680537Z INFO:     10.20.143.131:0 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized2026-02-07 04:55:56,920 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 04:55:56,921 - startup - INFO - Initializing database...
2026-02-07 04:55:57,567 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 05:09:40,501 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 05:09:40,502 - startup - INFO - Initializing database...
2026-02-07 05:09:41,145 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 05:09:41,573 - watchfiles.main - INFO - 1 change detected
2026-02-07 05:26:47,973 - watchfiles.main - INFO - 1 change detected
2026-02-07 05:26:48,913 - watchfiles.main - INFO - 3 changes detected
2026-02-07 05:36:40,544 - watchfiles.main - INFO - 1 change detected
2026-02-07 05:36:42,658 - watchfiles.main - INFO - 3 changes detected
2026-02-07 06:40:19,404 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:12:54,574 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:12:56,416 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:16:17,579 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:16:19,077 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:16:42,416 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:17:20,455 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 07:17:20,463 - startup - INFO - Initializing database...
2026-02-07 07:17:23,003 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 07:17:23,316 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:20:58,047 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:20:59,123 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:23:38,678 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:23:56,705 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 07:23:56,705 - startup - INFO - Initializing database...
2026-02-07 07:23:56,870 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:23:57,244 - watchfiles.main - INFO - 2 changes detected
2026-02-07 07:23:57,602 - watchfiles.main - INFO - 2 changes detected
2026-02-07 07:23:57,964 - watchfiles.main - INFO - 2 changes detected
2026-02-07 07:23:58,359 - watchfiles.main - INFO - 2 changes detected
2026-02-07 07:23:58,381 - startup - INFO - Database tables created successfully
2026-02-07 07:23:58,389 - startup - INFO - Checking admin user...
2026-02-07 07:23:58,389 - startup - INFO - Running startup initialization...
2026-02-07 07:23:58,733 - watchfiles.main - INFO - 2 changes detected
2026-02-07 07:24:01,468 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:24:01,952 - app.core.init_admin - ERROR - Failed to init admin user: (sqlite3.OperationalError) no such function: NOW
[SQL: 
                    INSERT INTO users (
                        email, password_hash, is_admin, is_moderator, is_active, is_affiliate, credits, 
                        free_verifications, email_verified, subscription_tier, 
                        bonus_sms_balance, monthly_quota_used, referral_earnings, 
                        provider, failed_login_attempts, language, currency, created_at
                    )
                    VALUES (
                        ?, ?, true, false, true, false, 1000, 
                        1.0, true, 'freemium', 
                        0.0, 0.0, 0.0, 
                        'email', 0, 'en', 'USD', NOW()
                    )
                ]
[parameters: ('admin@namaskah.app', '$2b$12$vFQWKP1CyJa/r8NvF1ZvjeipjzTNhd0AwcENr0tc82WBFdDU4uPfW')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-07 07:24:01,952 - startup - INFO - Startup initialization completed
2026-02-07 07:24:01,953 - startup - INFO - Admin user verified
2026-02-07 07:24:01,953 - startup - INFO - âœ… Application startup completed successfully
2026-02-07 07:24:02,898 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:24:50,728 - app.api.auth_routes - WARNING - Login attempt with non-existent email: admin@namaskah.app
2026-02-07 07:25:23,342 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:25:23,602 - startup - INFO - ðŸ›‘ Shutting down Namaskah SMS API...
2026-02-07 07:25:23,603 - startup - INFO - âœ… Shutdown completed
2026-02-07 07:25:24,114 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:25:28,493 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:25:53,472 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 07:25:53,473 - startup - INFO - Initializing database...
2026-02-07 07:25:54,598 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 07:25:54,598 - startup - INFO - Initializing database...
2026-02-07 07:25:54,928 - startup - INFO - Database tables created successfully
2026-02-07 07:25:54,929 - startup - INFO - Checking admin user...
2026-02-07 07:25:54,929 - startup - INFO - Running startup initialization...
2026-02-07 07:25:59,187 - app.core.init_admin - ERROR - Failed to init admin user: (sqlite3.IntegrityError) NOT NULL constraint failed: users.is_suspended
[SQL: 
                    INSERT INTO users (
                        email, password_hash, is_admin, is_moderator, is_active, is_affiliate, credits, 
                        free_verifications, email_verified, subscription_tier, 
                        bonus_sms_balance, monthly_quota_used, referral_earnings, 
                        provider, failed_login_attempts, language, currency, created_at
                    )
                    VALUES (
                        ?, ?, true, false, true, false, 1000, 
                        1.0, true, 'freemium', 
                        0.0, 0.0, 0.0, 
                        'email', 0, 'en', 'USD', CURRENT_TIMESTAMP
                    )
                ]
[parameters: ('admin@namaskah.app', '$2b$12$hyzruv.YDiqfjXRep/5ETueYCKMpHZlw/XsTIvyP6sX0leI6iUPmS')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-07 07:25:59,190 - startup - INFO - Startup initialization completed
2026-02-07 07:25:59,196 - startup - INFO - Admin user verified
2026-02-07 07:25:59,197 - startup - INFO - âœ… Application startup completed successfully
2026-02-07 07:26:00,036 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 07:26:02,061 - app.api.auth_routes - WARNING - Login attempt with non-existent email: admin@namaskah.app
2026-02-07 07:26:02,245 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:27:03,835 - watchfiles.main - INFO - 1 change detected
2026-02-07 07:27:05,285 - watchfiles.main - INFO - 3 changes detected
2026-02-07 07:28:06,645 - app.api.auth_routes - WARNING - Login attempt with non-existent email: admin@namaskah.app
2026-02-07 14:03:19,739 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:03:24,011 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:03:24,754 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:08:18,435 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:08:20,749 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:08:24,030 - startup - INFO - ðŸ›‘ Shutting down Namaskah SMS API...
2026-02-07 14:08:24,070 - startup - INFO - âœ… Shutdown completed
2026-02-07 14:08:24,671 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:08:25,038 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:11:46,627 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:11:47,640 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:21:13,297 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:21:17,212 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:21:17,639 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:24:58,404 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:25:01,015 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:28:14,613 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:28:16,165 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:28:53,552 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:28:53,942 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:28:54,303 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:28:54,661 - watchfiles.main - INFO - 2 changes detected
2026-02-07 14:28:55,666 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:29:13,188 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:29:26,619 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:29:38,487 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:29:49,974 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:29:57,004 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:30:07,971 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:30:20,737 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:30:21,149 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:30:34,456 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:30:48,180 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:00,274 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:10,858 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:24,192 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:26,570 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:28,040 - watchfiles.main - INFO - 3 changes detected
2026-02-07 14:31:41,457 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:31:53,018 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:32:18,881 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:33:34,245 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 14:33:34,247 - startup - INFO - Initializing database...
2026-02-07 14:33:38,530 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 14:33:41,706 - watchfiles.main - INFO - 1 change detected
2026-02-07 14:50:13,552 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:36:47,315 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:36:48,839 - watchfiles.main - INFO - 3 changes detected
2026-02-07 15:39:53,557 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:39:55,987 - watchfiles.main - INFO - 3 changes detected
2026-02-07 15:42:57,229 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:42:58,784 - watchfiles.main - INFO - 3 changes detected
2026-02-07 15:46:22,745 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:46:23,903 - watchfiles.main - INFO - 3 changes detected
2026-02-07 15:49:01,528 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:49:25,371 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:49:26,695 - watchfiles.main - INFO - 3 changes detected
2026-02-07 15:51:56,466 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:52:07,928 - watchfiles.main - INFO - 1 change detected
2026-02-07 15:52:07,963 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 15:52:07,966 - startup - INFO - Initializing database...
2026-02-07 15:52:08,437 - watchfiles.main - INFO - 28 changes detected
2026-02-07 15:52:08,837 - watchfiles.main - INFO - 45 changes detected
2026-02-07 15:52:09,946 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 15:52:11,099 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:04:31,746 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:04:45,196 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:04:46,358 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:06:17,710 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:18,411 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:06:38,972 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:42,154 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:06:42,516 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:06:42,871 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:51,507 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:55,643 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 16:06:55,643 - startup - INFO - Initializing database...
2026-02-07 16:06:55,969 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 16:06:56,607 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:58,905 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:06:59,270 - watchfiles.main - INFO - 45 changes detected
2026-02-07 16:07:01,214 - watchfiles.main - INFO - 4 changes detected
2026-02-07 16:07:35,437 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:07:38,791 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:07:39,150 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:07:39,557 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:07:40,188 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:07:46,656 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:07:47,785 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:16:45,606 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:16:47,823 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:17:12,708 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:17,560 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:22,439 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 16:17:22,441 - startup - INFO - Initializing database...
2026-02-07 16:17:22,881 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 16:17:23,300 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:23,693 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:28,796 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 16:17:28,796 - startup - INFO - Initializing database...
2026-02-07 16:17:28,983 - startup - ERROR - Startup failed: (psycopg2.errors.DatatypeMismatch) foreign key constraint "affiliate_commissions_affiliate_id_fkey" cannot be implemented
DETAIL:  Key columns "affiliate_id" and "id" are of incompatible types: character varying and uuid.

[SQL: 
CREATE TABLE affiliate_commissions (
	affiliate_id VARCHAR NOT NULL, 
	transaction_id VARCHAR(255) NOT NULL, 
	amount FLOAT NOT NULL, 
	commission_rate FLOAT NOT NULL, 
	status VARCHAR(50), 
	payout_date TIMESTAMP WITHOUT TIME ZONE, 
	id VARCHAR NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(affiliate_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-07 16:17:29,684 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:32,237 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:17:33,822 - watchfiles.main - INFO - 45 changes detected
2026-02-07 16:17:36,075 - watchfiles.main - INFO - 4 changes detected
2026-02-07 16:19:49,770 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:19:50,141 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:20:11,755 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 16:20:11,756 - startup - INFO - Initializing database...
2026-02-07 16:20:11,796 - startup - INFO - Database tables created successfully
2026-02-07 16:20:11,796 - startup - INFO - Checking admin user...
2026-02-07 16:20:11,796 - startup - INFO - Running startup initialization...
2026-02-07 16:20:11,903 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:20:12,204 - app.core.init_admin - INFO - âœ… Admin user updated: admin@namaskah.app
2026-02-07 16:20:12,204 - app.core.init_admin - INFO - âœ… Password: Namaskah@Admin2024
2026-02-07 16:20:12,204 - startup - INFO - Startup initialization completed
2026-02-07 16:20:12,205 - startup - INFO - Admin user verified
2026-02-07 16:20:12,207 - startup - INFO - âœ… Application startup completed successfully
2026-02-07 16:20:12,314 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:20:18,684 - app.api.auth_routes - INFO - Successful login: admin@namaskah.app
2026-02-07 16:20:18,685 - app.api.auth_routes - ERROR - Login error: 'User' object has no attribute 'username'
2026-02-07 16:20:18,766 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:24:10,906 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:24:12,324 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:24:12,694 - watchfiles.main - INFO - 2 changes detected
2026-02-07 16:45:35,798 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:45:37,288 - watchfiles.main - INFO - 3 changes detected
2026-02-07 16:51:13,654 - watchfiles.main - INFO - 1 change detected
2026-02-07 16:51:14,933 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:01:10,523 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:01:11,675 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:08:59,730 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:09:00,887 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:09:01,357 - watchfiles.main - INFO - 2 changes detected
2026-02-07 17:09:12,486 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 17:09:12,486 - startup - INFO - Initializing database...
2026-02-07 17:09:12,534 - startup - INFO - Database tables created successfully
2026-02-07 17:09:12,534 - startup - INFO - Checking admin user...
2026-02-07 17:09:12,534 - startup - INFO - Running startup initialization...
2026-02-07 17:09:13,542 - app.core.init_admin - INFO - âœ… Admin user updated: admin@namaskah.app
2026-02-07 17:09:13,543 - app.core.init_admin - INFO - âœ… Password: Namaskah@Admin2024
2026-02-07 17:09:13,543 - startup - INFO - Startup initialization completed
2026-02-07 17:09:13,543 - startup - INFO - Admin user verified
2026-02-07 17:09:13,543 - startup - INFO - âœ… Application startup completed successfully
2026-02-07 17:09:13,640 - watchfiles.main - INFO - 2 changes detected
2026-02-07 17:12:52,460 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:12:53,651 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:19:02,593 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:19:03,622 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:20:46,220 - startup - INFO - ðŸš€ Starting Namaskah SMS API...
2026-02-07 17:20:46,223 - startup - INFO - Initializing database...
2026-02-07 17:20:46,243 - startup - INFO - Database tables created successfully
2026-02-07 17:20:46,243 - startup - INFO - Checking admin user...
2026-02-07 17:20:46,244 - startup - INFO - Running startup initialization...
2026-02-07 17:20:46,590 - app.core.init_admin - INFO - âœ… Admin user updated: admin@namaskah.app
2026-02-07 17:20:46,590 - app.core.init_admin - INFO - âœ… Password: Namaskah@Admin2024
2026-02-07 17:20:46,591 - startup - INFO - Startup initialization completed
2026-02-07 17:20:46,591 - startup - INFO - Admin user verified
2026-02-07 17:20:46,591 - startup - INFO - âœ… Application startup completed successfully
2026-02-07 17:20:46,593 - startup - INFO - ðŸ›‘ Shutting down Namaskah SMS API...
2026-02-07 17:20:46,594 - startup - INFO - âœ… Shutdown completed
2026-02-07 17:20:46,740 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:20:47,136 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:21:17,727 - app.api.auth_routes - INFO - Successful login: admin@namaskah.app
2026-02-07 17:21:17,728 - app.api.auth_routes - ERROR - Login error: 'User' object has no attribute 'username'
2026-02-07 17:21:17,730 - watchfiles.main - INFO - 2 changes detected
2026-02-07 17:44:17,930 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:44:19,325 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:49:39,809 - watchfiles.main - INFO - 1 change detected
2026-02-07 17:49:41,083 - watchfiles.main - INFO - 3 changes detected
2026-02-07 17:51:39,835 - app.api.auth_routes - INFO - Successful login: admin@namaskah.app
2026-02-07 17:51:39,840 - app.api.auth_routes - ERROR - Login error: 'User' object has no attribute 'username'
2026-02-07 17:51:39,924 - watchfiles.main - INFO - 2 changes detected
2026-02-07 18:01:39,508 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:04:41,800 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:07:42,495 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:10:43,224 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:13:43,918 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:16:44,357 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:19:44,827 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:22:45,616 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:25:46,053 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:28:46,935 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:31:47,477 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:34:48,601 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:37:49,730 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:40:50,406 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:43:50,669 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:46:51,932 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:49:53,131 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:52:53,523 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:55:54,633 - watchfiles.main - INFO - 1 change detected
2026-02-07 18:58:54,935 - watchfiles.main - INFO - 1 change detected
2026-02-07 19:01:55,798 - watchfiles.main - INFO - 1 change detected
2026-02-07 19:04:56,185 - watchfiles.main - INFO - 1 change detected
2026-02-07 19:07:56,498 - watchfiles.main - INFO - 1 change detected
2026-02-07 19:11:00,108 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:01:28,848 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:23:22,142 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:40:21,789 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:40:22,929 - watchfiles.main - INFO - 3 changes detected
2026-02-07 20:51:23,229 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:51:24,655 - watchfiles.main - INFO - 3 changes detected
2026-02-07 20:54:26,361 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:54:27,744 - watchfiles.main - INFO - 3 changes detected
2026-02-07 20:55:47,271 - watchfiles.main - INFO - 1 change detected
2026-02-07 20:55:56,232 - watchfiles.main - INFO - 1 change detected
