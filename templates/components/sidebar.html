<aside class="sidebar" id="app-sidebar">
    <div class="sidebar-header">
        <h2>Namaskah</h2>
        <button class="sidebar-toggle" onclick="toggleSidebar()">â˜°</button>
    </div>
    <nav class="sidebar-nav">
        <a href="/dashboard" class="nav-item" data-page="dashboard">
            <i class="icon">ğŸ“Š</i> <span>Dashboard</span>
        </a>
        <a href="/verify" class="nav-item" data-page="verify">
            <i class="icon">ğŸ’¬</i> <span>Get SMS Code</span>
        </a>
        <a href="/wallet" class="nav-item" data-page="wallet">
            <i class="icon">ğŸ’°</i> <span>Wallet</span>
        </a>
        <a href="/history" class="nav-item" data-page="history">
            <i class="icon">ğŸ•</i> <span>History</span>
        </a>
        <a href="/settings" class="nav-item" data-page="settings">
            <i class="icon">âš™ï¸</i> <span>Settings</span>
        </a>
        
        {% if user and user.is_admin %}
        <div class="nav-divider"></div>
        <div class="nav-section-title">Admin</div>
        <a href="/admin" class="nav-item admin-item" data-page="admin">
            <i class="icon">ğŸ¯</i> <span>Admin Dashboard</span>
        </a>
        {% endif %}
    </nav>
    <div class="sidebar-footer">
        <a href="#" class="nav-item" onclick="logout()">
            <i class="icon">ğŸšª</i> <span>Logout</span>
        </a>
    </div>
</aside>

<style>
.sidebar { width: var(--sidebar-width); background: var(--bg-sidebar); position: fixed; height: 100vh; display: flex; flex-direction: column; border-right: 1px solid rgba(0,0,0,0.05); z-index: 1000; transition: transform 0.3s; }
.sidebar-header { padding: 20px 24px; border-bottom: 1px solid rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: space-between; }
.sidebar-header h2 { font-size: 20px; font-weight: 700; }
.sidebar-toggle { background: none; border: none; font-size: 20px; cursor: pointer; display: none; }
.sidebar-nav { flex: 1; padding: 12px; overflow-y: auto; }
.nav-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 8px; text-decoration: none; color: var(--text-main); font-weight: 600; font-size: 15px; transition: all 0.2s; opacity: 0.8; }
.nav-item:hover { background: rgba(55, 53, 47, 0.08); opacity: 1; }
.nav-item.active { background: white; color: var(--primary); box-shadow: var(--shadow-soft); opacity: 1; }
.nav-item .icon { font-size: 18px; }
.nav-divider { height: 1px; background: rgba(0,0,0,0.05); margin: 12px 0; }
.nav-section-title { padding: 12px 16px; font-size: 12px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; }
.admin-item { background: #fee2e2; color: #991b1b; }
.sidebar-footer { padding: 12px; border-top: 1px solid rgba(0,0,0,0.05); }

@media (max-width: 768px) {
    .sidebar { transform: translateX(-100%); }
    .sidebar.active { transform: translateX(0); }
    .sidebar-toggle { display: block; }
}
</style>

<script>
function toggleSidebar() {
    document.getElementById('app-sidebar').classList.toggle('active');
}

function logout() {
    fetch('/api/auth/logout', { method: 'POST' })
        .then(() => {
            clearToken();
            window.location.href = '/';
        })
        .catch(() => window.location.href = '/');
}

document.addEventListener('DOMContentLoaded', () => {
    const path = window.location.pathname.split('/')[1] || 'dashboard';
    document.querySelectorAll('.nav-item').forEach(item => {
        if (item.dataset.page === path) item.classList.add('active');
    });
});
</script>
